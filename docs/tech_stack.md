# 数源智能 Tech Stack

更新时间：2026-02-19
说明：本文件是 `docs/prd.md` 的技术选型落地文档。

## 1. 最终定版（阶段 1）

### 前端
- `Vite`
- `React`
- `TypeScript`
- `Tailwind CSS`

### 后端
- `Python`
- `FastAPI`
- `Uvicorn`

### 数据与存储
- `DuckDB`：分析查询与中间结果处理。
- `SQLite`：会话、任务、配置、系统日志。

### 模型接入
- `LiteLLM`：统一主模型与 UI 模型接口。

### 可视化引擎（阶段 1 单选）
- `Plotly`（后端 Python 生成图表配置，前端渲染交互图）。

## 2. 明确不选（阶段 1）
- 不使用 Next.js（MVP 先求迭代速度）。
- 不做 Electron 或 Tauri 套壳。
- 不做动态端口协商与复杂鉴权。
- 不接入完整 RAG 和向量数据库主流程。

## 3. Python 运行环境策略

### 3.1 主方案：`uv`
- 原因：安装快、依赖解析快、自动化友好、适合 Agent 按需安装依赖。
- 用法：项目统一 `uv venv` + `uv pip`。

### 3.2 兜底方案：`micromamba`
- 仅在遇到 conda-only 包或复杂二进制依赖时使用。
- 不与 `uv` 并行作为默认路径，避免双栈复杂度。

## 4. 端口与部署
- 后端固定监听：`127.0.0.1:8000`。
- 当前部署形态：本地 Web 开发与验证。

## 5. 可视化策略
- 阶段 1 仅使用 Plotly，避免多引擎并行复杂度。
- 图表目标：先保证结论可读与可解释，再扩展高级交互。

## 6. 阶段 2 预留
- 多文件关联分析能力。
- RAG-lite（小规模高质量知识片段）。
- 桌面化封装（按需求再评估）。
