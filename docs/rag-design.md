# RAG 预留设计（阶段 1 不启用）

更新时间：2026-02-19

## 1. 目标
当前阶段不把 RAG 纳入主分析流程，但提前定义接口、目录与接入边界，避免后续重构成本。

## 2. 阶段 1 规则
- RAG 功能默认关闭。
- 主流程不依赖向量检索结果。
- 不建设全量文档爬取与切片流水线。

## 3. 预留目录
- `backend/rag/`：检索接口与占位实现。
- `data/knowledge/`：知识片段原始文件与索引产物。

## 4. 预留接口（草案）
- `ingest(documents)`：接收文档并生成索引（阶段 1 返回 NotImplemented）。
- `retrieve(query, top_k)`：根据问题检索片段（阶段 1 返回空列表）。
- `rerank(chunks, query)`：结果重排（阶段 1 返回原序）。

## 5. 阶段 2 启用条件
- 纯模型推理在关键任务上的稳定性不足。
- 用户问题明显依赖外部知识片段。
- 已有高质量小规模知识库（不是全网低质抓取）。
